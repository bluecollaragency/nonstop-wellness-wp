// Wysiwyg component class with sub-classes â€” designed for styling WordPress' the_content() output.
//
// For convenience, this is broken down into sensible parts but you can apply all styles here
// using the `Wysiwyg` aggregate class.
//
// The main point of this is to keep these out of the global base styles in order to leverage the
// full power of TailwindCSS in areas of the site that are not dynamically generated markup.
$module: '.Wysiwyg';
#{$module} {
  @apply leading-relaxed;
  @extend .WysiwygAnchors;
  @extend .WysiwygHeadings;
  @extend .WysiwygImages;
  @extend .WysiwygCode;
  @extend .WysiwygSpacing;
  @extend .WysiwygLists;
  @extend .WysiwygBlockquotes;
}

$module: '.WysiwygAnchors';
#{$module} {
  a {
    @apply text-link;
    // If an anchor exists inside a heading, inherit the headings color
    $this: &;
    @at-root h1, h2, h3, h4, h5, h6 {
      #{$this} {
        color: inherit;
      }
    }
  }
}

$module: '.WysiwygHeadings';
#{$module} {
  h1, h2, h3, h4, h5, h6 {
    @apply font-display font-bold text-black leading-tight mt-12 mb-8;
  }

  h1 {
    @apply text-3xl;
  }

  h2 {
    @apply text-2xl;
  }

  h3 {
    @apply text-xl;
  }

  h4 {
    @apply text-lg;
  }

  h5, h6 {
    @apply text-base;
  }
}

$module: '.WysiwygImages';
#{$module} {
  img.aligncenter {
    @apply block mx-auto;
  }

  .gallery {
    .gallery-item {
      @apply text-center border-0;
    }

    .gallery-icon {
      @apply text-center;
    }

    img {
      @apply inline;
      border: none !important;
    }
  }

  .wp-caption-text {
    @apply text-sm mt-2 text-gray-light;
  }
}

$module: '.WysiwygCode';
#{$module} {
  code {
    @apply font-mono inline-block px-1 rounded-sm text-sm align-baseline bg-pink-100 text-pink-600;
  }
}

$module: '.WysiwygSpacing';
#{$module} {
  p, ul, ol, hr, .wp-block-embed, .gallery, .flex-video, [class*="wp-image-"] {
    @apply my-8;
  }
}

$module: '.WysiwygLists';
#{$module} {
  ul, ol {
    @apply ml-6 list-outside;
    @include first_last_marginless;
  }

  ul {
    @apply list-disc;
  }

  ol {
    @apply list-decimal;
  }

  li {
    @apply my-3;
  }
}

$module: '.WysiwygBlockquotes';
#{$module} {
  blockquote{
    @apply py-8 m-trim bg-yellow-light border-b-2 border-yellow px-4 -mx-4 lg:-mx-24 lg:py-12;
    @apply text-center text-lg lg:text-xl lg:leading-relaxed font-medium;
    & > * {
      @apply max-w-xl mx-auto my-4;
    }
  }
}